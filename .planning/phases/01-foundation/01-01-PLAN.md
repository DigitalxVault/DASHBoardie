---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - next.config.js
  - tsconfig.json
  - src/app/layout.tsx
  - src/app/page.tsx
  - src/app/globals.css
  - src/lib/fonts.ts
  - src/lib/utils.ts
  - src/components/ui/MetalPanel.tsx
  - src/components/ui/RivetButton.tsx
autonomous: true

must_haves:
  truths:
    - "Next.js dev server starts without errors"
    - "Tailwind design tokens from style guide are available as utility classes"
    - "Custom fonts (Bebas Neue, Oswald, Rajdhani) load without layout shift"
    - "MetalPanel component renders with industrial bevel/shadow effects"
    - "RivetButton has minimum 48px touch target height"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies and scripts"
      contains: "next"
    - path: "src/app/globals.css"
      provides: "Tailwind @theme design tokens"
      contains: "@theme"
    - path: "src/lib/fonts.ts"
      provides: "next/font configuration"
      contains: "Bebas_Neue"
    - path: "src/components/ui/MetalPanel.tsx"
      provides: "Industrial panel component"
      exports: ["MetalPanel"]
    - path: "src/components/ui/RivetButton.tsx"
      provides: "Touch-friendly button component"
      exports: ["RivetButton"]
  key_links:
    - from: "src/app/layout.tsx"
      to: "src/lib/fonts.ts"
      via: "font variable imports"
      pattern: "bebasNeue\\.variable"
    - from: "src/components/ui/RivetButton.tsx"
      to: "src/app/globals.css"
      via: "design token utilities"
      pattern: "bg-panel|bg-metal"
---

<objective>
Create Next.js 15 project with industrial/steampunk theme system using Tailwind CSS v4

Purpose: Establish the visual foundation and component library that all subsequent phases will build upon. The industrial metal aesthetic must be in place from day one.

Output: Working Next.js project with configured design tokens, fonts, and base UI components (MetalPanel, RivetButton)
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Next.js project with dependencies</name>
  <files>
    package.json
    next.config.js
    tsconfig.json
    src/app/layout.tsx
    src/app/page.tsx
    src/app/globals.css
  </files>
  <action>
    Create Next.js 15 project using create-next-app with TypeScript, Tailwind, ESLint, App Router, and src directory.

    Command: `npx create-next-app@latest . --typescript --tailwind --eslint --app --src-dir --yes`

    After scaffolding, install additional dependencies:
    - `npm install use-sound zustand`
    - `npm install -D @types/howler`

    Configure next.config.js for static export:
    ```javascript
    /** @type {import('next').NextConfig} */
    const nextConfig = {
      output: 'export',
      images: { unoptimized: true },
    };
    module.exports = nextConfig;
    ```

    Create public/sounds/background/ and public/sounds/effects/ directories for audio files.
  </action>
  <verify>
    `npm run dev` starts without errors
    `npm run build` completes successfully (static export)
    Check next.config.js contains `output: 'export'`
  </verify>
  <done>
    Next.js 15 project running with TypeScript, Tailwind CSS v4, static export configured, and audio dependencies installed
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure design system with Tailwind @theme and fonts</name>
  <files>
    src/app/globals.css
    src/lib/fonts.ts
    src/lib/utils.ts
    src/app/layout.tsx
  </files>
  <action>
    Create src/lib/fonts.ts with next/font configuration for:
    - Bebas Neue (display, labels)
    - Oswald (headings, fallback)
    - Rajdhani (body, micro UI)
    - Inter (system fallback)

    Each font should:
    - Use CSS variable (--font-bebas, --font-oswald, etc.)
    - Set display: 'swap' for progressive loading
    - Include appropriate weight ranges

    Create src/lib/utils.ts with cn() utility (clsx + tailwind-merge pattern):
    ```typescript
    import { type ClassValue, clsx } from 'clsx';
    import { twMerge } from 'tailwind-merge';
    export function cn(...inputs: ClassValue[]) {
      return twMerge(clsx(inputs));
    }
    ```

    Install clsx and tailwind-merge: `npm install clsx tailwind-merge`

    Replace src/app/globals.css with Tailwind v4 @theme configuration containing all design tokens from PROJECT.md style guide:

    Colors (neutrals):
    - bgDeep: #1C1C1E
    - panelBase: #2B2F36
    - panelTint: #2F3A45
    - wellInner: #23272E
    - metalMid: #3A4450
    - metalLight: #90A8A6
    - metalHighlight: #F1E8D9
    - borderDark: #14161A
    - textPrimary: #E6E8EC
    - textSecondary: #B7BEC8
    - textMuted: #7C8794

    Colors (accents):
    - warningAmber: #F0B040
    - warningStripe: #E6C74A
    - dangerRed: #F04020
    - successGreen: #20A850
    - infoCyan: #2AA7A0
    - radarGreen: #2BCB78
    - purpleNeon: #C46BFF

    Layout tokens:
    - radius-panel: 14px
    - radius-button: 6px

    Update src/app/layout.tsx to:
    - Import all font variables from lib/fonts
    - Apply font variables to html element className
    - Set body with bg-bg-deep text-text-primary
  </action>
  <verify>
    `npm run dev` starts without font loading errors
    Inspect element shows custom CSS variables (--color-panel-base, --font-bebas, etc.)
    Text renders in Bebas Neue/Oswald/Rajdhani fonts without layout shift
    Utility classes work: bg-panel-base, text-warning-amber, rounded-panel
  </verify>
  <done>
    Complete design token system with 18 colors, 4 fonts, and layout primitives available as Tailwind utilities
  </done>
</task>

<task type="auto">
  <name>Task 3: Create base UI components with industrial styling</name>
  <files>
    src/components/ui/MetalPanel.tsx
    src/components/ui/RivetButton.tsx
  </files>
  <action>
    Create src/components/ui/MetalPanel.tsx:
    - Accept children, className, and variant props ('raised' | 'inset' | 'flat')
    - Apply industrial bevel effect via box-shadow layers:
      - raised: inset highlight top-left, inset shadow bottom-right, drop shadow
      - inset: inset shadow top-left, subtle highlight bottom-right
    - Use bg-panel-base, rounded-panel, p-4 as base
    - Use cn() utility for className merging

    Create src/components/ui/RivetButton.tsx:
    - Accept standard button props plus variant ('primary' | 'secondary' | 'danger') and size ('sm' | 'md' | 'lg')
    - CRITICAL: Minimum height 48px for ALL sizes (touch accessibility)
      - sm: min-h-[48px] px-4 text-sm
      - md: min-h-[56px] px-6 text-base
      - lg: min-h-[64px] px-8 text-lg
    - Apply embossed text shadow: text-shadow: 0 1px 0 rgba(255,255,255,0.12), 0 -1px 0 rgba(0,0,0,0.55)
    - Apply metal button shadow effect with pressed state (active:)
    - Use forwardRef for ref forwarding
    - Use font-button uppercase tracking-wider

    Both components should be 'use client' since they may be used with interactions.
  </action>
  <verify>
    Import and render MetalPanel in page.tsx - panel shows raised 3D effect
    Import and render RivetButton - button has minimum 48px height
    Test RivetButton active state - button appears pressed with shadow change
    Verify text has embossed appearance (subtle highlight/shadow)
  </verify>
  <done>
    MetalPanel renders with industrial bevel shadows; RivetButton has 48dp minimum touch targets with embossed text and pressed states
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run dev` starts without errors or warnings
2. `npm run build && npm run start` works (static export)
3. Browser devtools show custom CSS variables from @theme
4. Fonts load without visible layout shift
5. MetalPanel has visible 3D bevel effect
6. RivetButton measures at least 48px tall in all sizes
7. Button shows pressed state on click/tap
</verification>

<success_criteria>
- Next.js 15 project with static export configuration
- Tailwind CSS v4 @theme directive with all 18 color tokens
- 4 Google Fonts configured via next/font with CSS variables
- MetalPanel component with raised/inset/flat variants
- RivetButton component with 48dp minimum touch targets
- cn() utility for className composition
- All utilities work: bg-panel-base, text-warning-amber, font-label, rounded-panel
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
